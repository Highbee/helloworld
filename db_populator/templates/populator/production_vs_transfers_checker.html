{% extends 'populator/base.html' %}

{% block title %}Production vs. Transfers Checker{% endblock %}

{% block content %}
    <h1>Production vs. Transfers Checker</h1>
    <p class="lead">This page shows the days where the total production of a product does not match the total transfer to the store.</p>
    <table class="table table-bordered">
        <thead class="table-dark">
            <tr>
                <th>Date</th>
                <th>Product Name</th>
                <th>Total Produced</th>
                <th>Total Transferred</th>
                <th>Difference (Produced - Transferred)</th>
            </tr>
        </thead>
        <tbody>
            {% for item in discrepancies %}
                <tr class="{% if item.difference > 0 %}table-warning{% elif item.difference < 0 %}table-danger{% endif %}">
                    <td>{{ item.date }}</td>
                    <td>{{ item.product_name }}</td>
                    <td>{{ item.produced }}</td>
                    <td>{{ item.transferred }}</td>
                    <td>{{ item.difference }}</td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="5" class="text-center">No discrepancies found.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
